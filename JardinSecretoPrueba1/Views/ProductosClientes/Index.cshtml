@model IEnumerable<JardinSecretoPrueba1.Models.Producto>
@{
    ViewData["Title"] = "Menú Cliente";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var nombreUsuario = ViewBag.Nombre ?? "Invitado";
    var tipoPedido = ViewBag.TipoPedido ?? "No especificado";
}
<!-- Conectar las variables con JS -->
<script>
    var usuarioNombre = "@nombreUsuario";
    var usuarioPedido = "@tipoPedido";
</script>

<h2 class="text-success mb-4">Hola, @ViewBag.Nombre! 🍽️</h2>
<p>Tipo de pedido: <strong>@ViewBag.TipoPedido</strong></p>

<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-md-4 mb-4">
            <div class="card shadow-sm h-100">
                <img src="@item.ImagenUrl" class="card-img-top" alt="@item.Nombre">
                <div class="card-body">
                    <h5 class="card-title">@item.Nombre</h5>
                    <p class="card-text">$@item.Precio</p>

                    <!-- Botón agregar al carrito -->
                    <a asp-controller="Carrito" asp-action="Agregar" asp-route-id="@item.ProductoId"
                       class="btn btn-success w-100">
                        <i class="fa fa-cart-plus"></i> Agregar al carrito
                    </a>

                   @*  BOTON ELIMINADO A JS CARRITO
                       <!-- Botón agregar al carrito -->
                    <button class="btn btn-success w-100"
                            data-id="@item.ProductoId"
                            data-nombre="@item.Nombre"
                            data-precio="@item.Precio"
                            data-disponible="@item.Disponible">
                        <i class="fa fa-cart-plus"></i> Agregar al carrito
                    </button> *@
                </div>
            </div>
        </div>
    }
</div>


@* <!-- Modal Opciones -->
<div class="modal fade" id="modalOpciones" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <h5 class="modal-title" id="modalTitulo"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>

            <div class="modal-body">
                <!-- Imagen -->
                <div class="text-center mb-3">
                    <img id="modalImagen" src="" class="img-fluid rounded" style="max-height: 250px;">
                </div>

                <!-- Precio base -->
                <p><strong>Precio base:</strong> <span id="modalPrecioBase"></span></p>

                <!-- Sabores -->
                <h6>Elige tu sabor</h6>
                <div id="modalSabores" class="mb-3"></div>

                <!-- Extras -->
                <h6>Elige tus extras (máx. 2)</h6>
                <div id="modalExtras" class="mb-3"></div>

                <!-- Cantidad -->
                <div class="d-flex align-items-center gap-2">
                    <button class="btn btn-outline-secondary" id="btnMenos">-</button>
                    <span id="cantidadSeleccionada">1</span>
                    <button class="btn btn-outline-secondary" id="btnMas">+</button>
                </div>
            </div>

            <div class="modal-footer">
                <button id="btnConfirmarAgregar" class="btn btn-primary">
                    Agregar <span id="modalPrecioTotal"></span>
                </button>
            </div>

        </div>
    </div>
</div>

 *@

@section Scripts {
    <script src="~/js/carrito.js"></script>
}

